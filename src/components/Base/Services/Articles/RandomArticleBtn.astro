---
const { articles } = Astro.props;
---

<a id="random-article-button" data-articles-json={JSON.stringify(articles)}> Read a Random Article </a>

<script>
  const button = document.getElementById("random-article-button");
  const articles = JSON.parse(button.dataset.articlesJson);
  const number = Math.floor(Math.random() * articles.length);

  button.addEventListener("click", () => {
    window.location.href = `/articles/${articles[number].id}`;
  });
</script>

<style>
  a {
    background-color: var(--component-bg-clr);
    border: solid 2px var(--system-font-clr);
    color: var(--system-font-clr);
    padding: 8px;
    transition: background-color 0.2s ease;
  }
  a:hover {
    background-color: var(--system-bg-clr);
    cursor: pointer;
  }
</style>
