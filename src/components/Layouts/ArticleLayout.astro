---
import BaseLayout from "./BaseLayout.astro";
import Wrapper from "../Base/Common/Wrapper.astro";
import ArticleDetails from "../Base/Services/Articles/ArticleDetails.astro";

const { article } = Astro.props;
const { title, author, pubDate } = article.data;

const wordCount = article.body.trim().split(/\s+/).filter(Boolean).length;
const readTime = Math.round(wordCount / 238); //Word count / Average WPM
console.log(readTime);
---

<BaseLayout title={title}>
  <Wrapper>
    <ArticleDetails title={title} author={author} date={pubDate} readTime={readTime} />
    <slot />
  </Wrapper>
</BaseLayout>

<style>
  h1 {
    color: var(--system-font-clr);
  }

  p {
    color: var(--system-font-clr-muted);
  }
</style>
